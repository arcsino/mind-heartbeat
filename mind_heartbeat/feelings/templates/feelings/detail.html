{% extends "_shared/base.html" %}
{% block title %}
  Feeling Detail - Mind Heartbeat
{% endblock title %}
{% block content %}
  <div class="d-flex justify-content-center align-items-center min-vh-85">
    <div class="card shadow w-100 mx-auto p-4 max-w-520 col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5 mt-5">
      <h1 class="h2 fw-bold mb-4 text-center">感情記録の詳細</h1>
      <div class="mb-3 d-flex flex-row align-items-center justify-content-center gap-3">
        <div class="d-flex flex-column align-items-start justify-content-center">
          <span class="{{ feeling.stamp.color }} fs-6 px-3 mb-1">{{ feeling.stamp.name }}</span>
          <span class="text-secondary small">{{ feeling.created_at|date:'Y-m-d H:i' }}</span>
        </div>
        <div>
          {% if feeling.stamp.image %}
            <img src="{{ feeling.stamp.image.url }}"
                 alt="{{ feeling.stamp.name }}"
                 class="rounded-circle border stamp-img-64 ms-2"
                 height="64"
                 width="64" />
          {% else %}
            <div class="bg-secondary bg-opacity-10 rounded-circle stamp-img-placeholder ms-2">
              <i class="bi bi-card-image fs-3"></i>
              <span class="no-image-label">No Image</span>
            </div>
          {% endif %}
        </div>
      </div>
      <div class="mb-4">
        <label class="form-label text-secondary small">コメント</label>
        <div class="fs-5 text-dark border rounded p-2 bg-light">{{ feeling.comment|default:'(なし)' }}</div>
      </div>
      {% if feeling.hr_value %}
        <div class="mb-4">
          <label class="form-label text-secondary small">心拍数</label>
          <div class="fw-semibold text-danger">{{ feeling.hr_value }} bpm</div>
          {% if feeling.hr_measured_at %}
            <div class="text-secondary small">({{ feeling.hr_measured_at|date:'Y-m-d H:i' }})</div>
          {% endif %}
        </div>
      {% endif %}
      <div class="d-flex flex-wrap gap-2 justify-content-between mt-4">
        <a href="{% url 'feelings:list' %}"
           class="btn btn-primary flex-fill fw-bold">
          <i class="bi bi-arrow-left me-2"></i>一覧へ戻る
        </a>
        <a href="{% url 'feelings:update' feeling.pk %}"
           class="btn btn-secondary flex-fill fw-bold">
          <i class="bi bi-pencil-square me-2"></i>編集
        </a>
        <a href="{% url 'feelings:delete' feeling.pk %}"
           class="btn btn-danger flex-fill fw-bold">
          <i class="bi bi-trash3 me-2"></i>削除
        </a>
      </div>
    </div>
  </div>
{% endblock content %}
